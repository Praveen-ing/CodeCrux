{"ast":null,"code":"// frontend/src/pages/Favorites/Favorites.jsx\nimport React,{useState,useEffect,useCallback}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../../context/AuthContext';import{fetchFavoriteProblemsAPI,// CORRECTED\nremoveProblemFromFavoritesAPI,// CORRECTED\nfetchFavoriteContestsAPI,// CORRECTED\nremoveContestFromFavoritesAPI// CORRECTED\n}from'../../api/apiService';// Adjust path if needed\nimport{Star,Trash2,ExternalLink,CalendarDays,AlertTriangle,Loader2}from'lucide-react';import'./Favorites.css';// Ensure this CSS file exists and is styled\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FavoritesPage=()=>{const{userInfo,loading:authLoading}=useAuth();const navigate=useNavigate();const[favoriteProblems,setFavoriteProblems]=useState([]);const[favoriteContests,setFavoriteContests]=useState([]);const[isLoadingProblems,setIsLoadingProblems]=useState(true);const[isLoadingContests,setIsLoadingContests]=useState(true);const[errorProblems,setErrorProblems]=useState(null);const[errorContests,setErrorContests]=useState(null);const fetchFavProblems=useCallback(async()=>{if(!userInfo){setIsLoadingProblems(false);setFavoriteProblems([]);return;}setIsLoadingProblems(true);setErrorProblems(null);try{const response=await fetchFavoriteProblemsAPI();// CORRECTED\nsetFavoriteProblems(response.data||[]);}catch(err){var _err$response,_err$response$data;console.error(\"Error fetching favorite problems:\",err);setErrorProblems(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Failed to fetch favorite problems.');setFavoriteProblems([]);}finally{setIsLoadingProblems(false);}},[userInfo]);const fetchFavContests=useCallback(async()=>{if(!userInfo){setIsLoadingContests(false);setFavoriteContests([]);return;}setIsLoadingContests(true);setErrorContests(null);try{const response=await fetchFavoriteContestsAPI();// CORRECTED\nsetFavoriteContests(response.data||[]);}catch(err){var _err$response2,_err$response2$data;console.error(\"Error fetching favorite contests:\",err);setErrorContests(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Failed to fetch favorite contests.');setFavoriteContests([]);}finally{setIsLoadingContests(false);}},[userInfo]);useEffect(()=>{if(!authLoading){// Only fetch if auth state is resolved\nfetchFavProblems();fetchFavContests();}},[authLoading,userInfo,fetchFavProblems,fetchFavContests]);const handleRemoveProblem=async(platform,problemId)=>{if(!window.confirm(\"Are you sure you want to remove this problem from favorites?\"))return;try{await removeProblemFromFavoritesAPI(platform,problemId);// CORRECTED\nsetFavoriteProblems(prev=>prev.filter(p=>!(p.platform===platform&&p.problemId===problemId)));}catch(err){var _err$response3,_err$response3$data;console.error(\"Error removing favorite problem:\",err);alert(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||\"Could not remove problem from favorites.\");}};const handleRemoveContest=async identifier=>{if(!window.confirm(\"Are you sure you want to remove this contest from favorites?\"))return;try{await removeContestFromFavoritesAPI(identifier);// CORRECTED\nsetFavoriteContests(prev=>prev.filter(c=>c.identifier!==identifier));}catch(err){var _err$response4,_err$response4$data;console.error(\"Error removing favorite contest:\",err);alert(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||\"Could not remove contest from favorites.\");}};const formatDate=dateString=>{if(!dateString)return'N/A';try{return new Date(dateString).toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric',hour:'2-digit',minute:'2-digit'});}catch(e){return dateString;// Fallback to original string if date is invalid\n}};if(authLoading){return/*#__PURE__*/_jsxs(\"div\",{className:\"favorites-page-loading\",children:[/*#__PURE__*/_jsx(Loader2,{size:48,className:\"spinner-icon\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading your favorites...\"})]});}if(!userInfo){return/*#__PURE__*/_jsxs(\"div\",{className:\"favorites-page-login-prompt\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Favorites\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please log in to view and manage your favorites.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/login'),className:\"login-button-fav\",children:\"Go to Login\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"favorites-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"favorites-header\",children:[/*#__PURE__*/_jsx(Star,{size:32}),/*#__PURE__*/_jsx(\"h1\",{children:\"My Favorites\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"favorites-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Favorite Problems\"}),isLoadingProblems&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state-section\",children:[/*#__PURE__*/_jsx(Loader2,{size:28,className:\"spinner-icon\"}),\" Loading favorite problems...\"]}),errorProblems&&!isLoadingProblems&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message-section\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:24}),\" \",errorProblems]}),!isLoadingProblems&&!errorProblems&&favoriteProblems.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"no-favorites-message\",children:\"No favorite problems added yet. Find problems you like and star them!\"}),!isLoadingProblems&&!errorProblems&&favoriteProblems.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"favorites-grid\",children:favoriteProblems.map(problem=>{var _problem$platform,_problem$difficulty;return/*#__PURE__*/_jsxs(\"div\",{className:\"favorite-card problem-card-fav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fav-card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"fav-title\",children:problem.title}),/*#__PURE__*/_jsx(\"span\",{className:`platform-badge platform-${(_problem$platform=problem.platform)===null||_problem$platform===void 0?void 0:_problem$platform.toLowerCase()}`,children:problem.platform})]}),/*#__PURE__*/_jsx(\"div\",{className:\"fav-meta\",children:problem.difficulty&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Difficulty: \",/*#__PURE__*/_jsx(\"span\",{className:`difficulty-badge difficulty-${(_problem$difficulty=problem.difficulty)===null||_problem$difficulty===void 0?void 0:_problem$difficulty.toLowerCase().replace('+','plus')}`,children:problem.difficulty})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fav-actions\",children:[problem.url&&problem.url!=='#'&&/*#__PURE__*/_jsxs(\"a\",{href:problem.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"action-btn view-btn\",children:[/*#__PURE__*/_jsx(ExternalLink,{size:16}),\" View\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleRemoveProblem(problem.platform,problem.problemId),className:\"action-btn remove-btn\",children:[/*#__PURE__*/_jsx(Trash2,{size:16}),\" Remove\"]})]})]},`${problem.platform}-${problem.problemId}`);})})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"favorites-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Favorite Contests\"}),isLoadingContests&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state-section\",children:[/*#__PURE__*/_jsx(Loader2,{size:28,className:\"spinner-icon\"}),\" Loading favorite contests...\"]}),errorContests&&!isLoadingContests&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-message-section\",children:[/*#__PURE__*/_jsx(AlertTriangle,{size:24}),\" \",errorContests]}),!isLoadingContests&&!errorContests&&favoriteContests.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"no-favorites-message\",children:\"No favorite contests added yet. Find contests and star them!\"}),!isLoadingContests&&!errorContests&&favoriteContests.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"favorites-grid\",children:favoriteContests.map(contest=>{var _contest$platform;return/*#__PURE__*/_jsxs(\"div\",{className:\"favorite-card contest-card-fav\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fav-card-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"fav-title\",children:contest.title}),/*#__PURE__*/_jsx(\"span\",{className:`platform-badge platform-${(_contest$platform=contest.platform)===null||_contest$platform===void 0?void 0:_contest$platform.toLowerCase()}`,children:contest.platform})]}),/*#__PURE__*/_jsx(\"div\",{className:\"fav-meta\",children:contest.startTime&&/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(CalendarDays,{size:14}),\" Starts: \",formatDate(contest.startTime)]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fav-actions\",children:[contest.url&&contest.url!=='#'&&/*#__PURE__*/_jsxs(\"a\",{href:contest.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"action-btn view-btn\",children:[/*#__PURE__*/_jsx(ExternalLink,{size:16}),\" View\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleRemoveContest(contest.identifier),className:\"action-btn remove-btn\",children:[/*#__PURE__*/_jsx(Trash2,{size:16}),\" Remove\"]})]})]},contest.identifier);})})]})]});};export default FavoritesPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","useAuth","fetchFavoriteProblemsAPI","removeProblemFromFavoritesAPI","fetchFavoriteContestsAPI","removeContestFromFavoritesAPI","Star","Trash2","ExternalLink","CalendarDays","AlertTriangle","Loader2","jsx","_jsx","jsxs","_jsxs","FavoritesPage","userInfo","loading","authLoading","navigate","favoriteProblems","setFavoriteProblems","favoriteContests","setFavoriteContests","isLoadingProblems","setIsLoadingProblems","isLoadingContests","setIsLoadingContests","errorProblems","setErrorProblems","errorContests","setErrorContests","fetchFavProblems","response","data","err","_err$response","_err$response$data","console","error","message","fetchFavContests","_err$response2","_err$response2$data","handleRemoveProblem","platform","problemId","window","confirm","prev","filter","p","_err$response3","_err$response3$data","alert","handleRemoveContest","identifier","c","_err$response4","_err$response4$data","formatDate","dateString","Date","toLocaleDateString","undefined","year","month","day","hour","minute","e","className","children","size","onClick","length","map","problem","_problem$platform","_problem$difficulty","title","toLowerCase","difficulty","replace","url","href","target","rel","contest","_contest$platform","startTime"],"sources":["C:/Users/HP/OneDrive/Pictures/Documents/Desktop/CodeCrux/frontend/src/pages/Favorites/Favorites.jsx"],"sourcesContent":["// frontend/src/pages/Favorites/Favorites.jsx\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate }\r\nfrom 'react-router-dom';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport {\r\n  fetchFavoriteProblemsAPI, // CORRECTED\r\n  removeProblemFromFavoritesAPI, // CORRECTED\r\n  fetchFavoriteContestsAPI, // CORRECTED\r\n  removeContestFromFavoritesAPI // CORRECTED\r\n} from '../../api/apiService'; // Adjust path if needed\r\nimport { Star, Trash2, ExternalLink, CalendarDays, AlertTriangle, Loader2 } from 'lucide-react';\r\nimport './Favorites.css'; // Ensure this CSS file exists and is styled\r\n\r\nconst FavoritesPage = () => {\r\n  const { userInfo, loading: authLoading } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const [favoriteProblems, setFavoriteProblems] = useState([]);\r\n  const [favoriteContests, setFavoriteContests] = useState([]);\r\n  const [isLoadingProblems, setIsLoadingProblems] = useState(true);\r\n  const [isLoadingContests, setIsLoadingContests] = useState(true);\r\n  const [errorProblems, setErrorProblems] = useState(null);\r\n  const [errorContests, setErrorContests] = useState(null);\r\n\r\n  const fetchFavProblems = useCallback(async () => {\r\n    if (!userInfo) {\r\n      setIsLoadingProblems(false);\r\n      setFavoriteProblems([]);\r\n      return;\r\n    }\r\n    setIsLoadingProblems(true);\r\n    setErrorProblems(null);\r\n    try {\r\n      const response = await fetchFavoriteProblemsAPI(); // CORRECTED\r\n      setFavoriteProblems(response.data || []);\r\n    } catch (err) {\r\n      console.error(\"Error fetching favorite problems:\", err);\r\n      setErrorProblems(err.response?.data?.message || 'Failed to fetch favorite problems.');\r\n      setFavoriteProblems([]);\r\n    } finally {\r\n      setIsLoadingProblems(false);\r\n    }\r\n  }, [userInfo]);\r\n\r\n  const fetchFavContests = useCallback(async () => {\r\n    if (!userInfo) {\r\n      setIsLoadingContests(false);\r\n      setFavoriteContests([]);\r\n      return;\r\n    }\r\n    setIsLoadingContests(true);\r\n    setErrorContests(null);\r\n    try {\r\n      const response = await fetchFavoriteContestsAPI(); // CORRECTED\r\n      setFavoriteContests(response.data || []);\r\n    } catch (err) {\r\n      console.error(\"Error fetching favorite contests:\", err);\r\n      setErrorContests(err.response?.data?.message || 'Failed to fetch favorite contests.');\r\n      setFavoriteContests([]);\r\n    } finally {\r\n      setIsLoadingContests(false);\r\n    }\r\n  }, [userInfo]);\r\n\r\n  useEffect(() => {\r\n    if (!authLoading) { // Only fetch if auth state is resolved\r\n      fetchFavProblems();\r\n      fetchFavContests();\r\n    }\r\n  }, [authLoading, userInfo, fetchFavProblems, fetchFavContests]);\r\n\r\n\r\n  const handleRemoveProblem = async (platform, problemId) => {\r\n    if (!window.confirm(\"Are you sure you want to remove this problem from favorites?\")) return;\r\n    try {\r\n      await removeProblemFromFavoritesAPI(platform, problemId); // CORRECTED\r\n      setFavoriteProblems(prev => prev.filter(p => !(p.platform === platform && p.problemId === problemId)));\r\n    } catch (err) {\r\n      console.error(\"Error removing favorite problem:\", err);\r\n      alert(err.response?.data?.message || \"Could not remove problem from favorites.\");\r\n    }\r\n  };\r\n\r\n  const handleRemoveContest = async (identifier) => {\r\n    if (!window.confirm(\"Are you sure you want to remove this contest from favorites?\")) return;\r\n    try {\r\n      await removeContestFromFavoritesAPI(identifier); // CORRECTED\r\n      setFavoriteContests(prev => prev.filter(c => c.identifier !== identifier));\r\n    } catch (err) {\r\n      console.error(\"Error removing favorite contest:\", err);\r\n      alert(err.response?.data?.message || \"Could not remove contest from favorites.\");\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    if (!dateString) return 'N/A';\r\n    try {\r\n      return new Date(dateString).toLocaleDateString(undefined, {\r\n        year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit'\r\n      });\r\n    } catch (e) {\r\n      return dateString; // Fallback to original string if date is invalid\r\n    }\r\n  };\r\n\r\n\r\n  if (authLoading) {\r\n    return (\r\n      <div className=\"favorites-page-loading\">\r\n        <Loader2 size={48} className=\"spinner-icon\" />\r\n        <p>Loading your favorites...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!userInfo) {\r\n    return (\r\n      <div className=\"favorites-page-login-prompt\">\r\n        <h1>My Favorites</h1>\r\n        <p>Please log in to view and manage your favorites.</p>\r\n        <button onClick={() => navigate('/login')} className=\"login-button-fav\">\r\n          Go to Login\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"favorites-page\">\r\n      <div className=\"favorites-header\">\r\n        <Star size={32} />\r\n        <h1>My Favorites</h1>\r\n      </div>\r\n\r\n      {/* Favorite Problems Section */}\r\n      <section className=\"favorites-section\">\r\n        <h2>Favorite Problems</h2>\r\n        {isLoadingProblems && (\r\n            <div className=\"loading-state-section\"><Loader2 size={28} className=\"spinner-icon\" /> Loading favorite problems...</div>\r\n        )}\r\n        {errorProblems && !isLoadingProblems && (\r\n            <div className=\"error-message-section\"><AlertTriangle size={24} /> {errorProblems}</div>\r\n        )}\r\n        {!isLoadingProblems && !errorProblems && favoriteProblems.length === 0 && (\r\n          <p className=\"no-favorites-message\">No favorite problems added yet. Find problems you like and star them!</p>\r\n        )}\r\n        {!isLoadingProblems && !errorProblems && favoriteProblems.length > 0 && (\r\n          <div className=\"favorites-grid\">\r\n            {favoriteProblems.map((problem) => (\r\n              <div className=\"favorite-card problem-card-fav\" key={`${problem.platform}-${problem.problemId}`}>\r\n                <div className=\"fav-card-header\">\r\n                  <h3 className=\"fav-title\">{problem.title}</h3>\r\n                  <span className={`platform-badge platform-${problem.platform?.toLowerCase()}`}>{problem.platform}</span>\r\n                </div>\r\n                <div className=\"fav-meta\">\r\n                  {problem.difficulty && <span>Difficulty: <span className={`difficulty-badge difficulty-${problem.difficulty?.toLowerCase().replace('+', 'plus')}`}>{problem.difficulty}</span></span>}\r\n                </div>\r\n                {/* {problem.tags && problem.tags.length > 0 && (\r\n                  <div className=\"fav-tags\">\r\n                    {problem.tags.map((tag, i) => (\r\n                      <span className=\"tag\" key={i}>{tag}</span>\r\n                    ))}\r\n                  </div>\r\n                )} */}\r\n                <div className=\"fav-actions\">\r\n                  {problem.url && problem.url !== '#' && (\r\n                    <a href={problem.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"action-btn view-btn\">\r\n                      <ExternalLink size={16} /> View\r\n                    </a>\r\n                  )}\r\n                  <button onClick={() => handleRemoveProblem(problem.platform, problem.problemId)} className=\"action-btn remove-btn\">\r\n                    <Trash2 size={16} /> Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n\r\n      {/* Favorite Contests Section */}\r\n      <section className=\"favorites-section\">\r\n        <h2>Favorite Contests</h2>\r\n        {isLoadingContests && (\r\n            <div className=\"loading-state-section\"><Loader2 size={28} className=\"spinner-icon\" /> Loading favorite contests...</div>\r\n        )}\r\n        {errorContests && !isLoadingContests && (\r\n            <div className=\"error-message-section\"><AlertTriangle size={24} /> {errorContests}</div>\r\n        )}\r\n        {!isLoadingContests && !errorContests && favoriteContests.length === 0 && (\r\n          <p className=\"no-favorites-message\">No favorite contests added yet. Find contests and star them!</p>\r\n        )}\r\n        {!isLoadingContests && !errorContests && favoriteContests.length > 0 && (\r\n          <div className=\"favorites-grid\">\r\n            {favoriteContests.map((contest) => (\r\n              <div className=\"favorite-card contest-card-fav\" key={contest.identifier}>\r\n                 <div className=\"fav-card-header\">\r\n                    <h3 className=\"fav-title\">{contest.title}</h3>\r\n                    <span className={`platform-badge platform-${contest.platform?.toLowerCase()}`}>{contest.platform}</span>\r\n                </div>\r\n                <div className=\"fav-meta\">\r\n                  {contest.startTime && <span><CalendarDays size={14}/> Starts: {formatDate(contest.startTime)}</span>}\r\n                  {/* Add duration if available and needed */}\r\n                </div>\r\n                <div className=\"fav-actions\">\r\n                  {contest.url && contest.url !== '#' && (\r\n                    <a href={contest.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"action-btn view-btn\">\r\n                      <ExternalLink size={16} /> View\r\n                    </a>\r\n                  )}\r\n                  <button onClick={() => handleRemoveContest(contest.identifier)} className=\"action-btn remove-btn\">\r\n                    <Trash2 size={16} /> Remove\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FavoritesPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}