{"ast":null,"code":"// frontend/src/components/ContestCard/ContestCard.jsx\nimport React from\"react\";import{format}from\"date-fns\";import{ExternalLink,CalendarPlus,Star,Clock,Info,ShieldAlert}from\"lucide-react\";import{motion}from\"framer-motion\";import\"./ContestCard.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatDateTimeForGoogleCalendar=isoString=>{if(!isoString)return'';return new Date(isoString).toISOString().replace(/-|:|\\.\\d{3}/g,'');};const ContestCard=_ref=>{let{contest,onFavoriteToggle,isFavorite}=_ref;let{title,platform,platformIcon,startTime,endTime,durationSeconds,url}=contest;// Map platform to icon if not provided\nif(!platformIcon){const platformIconMap={'AtCoder':'/icons/atcoder.svg','CodeChef':'/icons/codechef.svg'// Add more mappings as needed\n};platformIcon=platformIconMap[platform]||null;}const handleAddToCalendar=()=>{const gCalStartTime=formatDateTimeForGoogleCalendar(startTime);const gCalEndTime=formatDateTimeForGoogleCalendar(endTime);const details=`Platform: ${platform}\\nLink: ${url}`;const googleCalendarUrl=`https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(title)}&dates=${gCalStartTime}/${gCalEndTime}&details=${encodeURIComponent(details)}&location=${encodeURIComponent(platform)}`;window.open(googleCalendarUrl,'_blank');};const formattedStartTime=startTime?format(new Date(startTime),\"d MMM yyyy, h:mm a\"):\"N/A\";let durationDisplay=\"N/A\";if(durationSeconds){const h=Math.floor(durationSeconds/3600);const m=Math.floor(durationSeconds%3600/60);durationDisplay=`${h>0?`${h}h `:''}${m>0?`${m}m`:''}`.trim();}const itemVariants={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:\"spring\"}}};return/*#__PURE__*/_jsxs(motion.div,{className:\"contest-card\",variants:itemVariants,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"platform-info\",children:[platformIcon?/*#__PURE__*/_jsx(\"img\",{src:platformIcon,alt:platform,className:\"platform-icon\"}):/*#__PURE__*/_jsx(ShieldAlert,{size:32,className:\"platform-icon-default\"}),/*#__PURE__*/_jsx(\"span\",{className:\"platform-name\",children:platform||'Unknown'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contest-details\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"contest-title\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"contest-meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(CalendarPlus,{size:14}),formattedStartTime]}),/*#__PURE__*/_jsxs(\"span\",{className:\"meta-item\",children:[/*#__PURE__*/_jsx(Clock,{size:14}),durationDisplay]}),/*#__PURE__*/_jsxs(\"a\",{href:url||'#',target:\"_blank\",rel:\"noopener noreferrer\",className:`meta-item link ${!url?'disabled':''}`,children:[/*#__PURE__*/_jsx(Info,{size:14}),\"Contest Details\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"contest-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCalendar,className:\"action-btn calendar-btn\",\"aria-label\":\"Add to Google Calendar\",children:/*#__PURE__*/_jsx(CalendarPlus,{size:20})}),onFavoriteToggle&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>onFavoriteToggle(contest),className:`action-btn favorite-btn ${isFavorite?\"favorited\":\"\"}`,\"aria-label\":isFavorite?\"Remove from favorites\":\"Add to favorites\",children:/*#__PURE__*/_jsx(Star,{size:20})})]})]});};export default ContestCard;","map":{"version":3,"names":["React","format","ExternalLink","CalendarPlus","Star","Clock","Info","ShieldAlert","motion","jsx","_jsx","jsxs","_jsxs","formatDateTimeForGoogleCalendar","isoString","Date","toISOString","replace","ContestCard","_ref","contest","onFavoriteToggle","isFavorite","title","platform","platformIcon","startTime","endTime","durationSeconds","url","platformIconMap","handleAddToCalendar","gCalStartTime","gCalEndTime","details","googleCalendarUrl","encodeURIComponent","window","open","formattedStartTime","durationDisplay","h","Math","floor","m","trim","itemVariants","hidden","y","opacity","visible","transition","type","div","className","variants","children","src","alt","size","href","target","rel","onClick"],"sources":["C:/Users/HP/OneDrive/Pictures/Documents/Desktop/CodeCrux/frontend/src/components/ContestCard/ContestCard.jsx"],"sourcesContent":["// frontend/src/components/ContestCard/ContestCard.jsx\r\n\r\nimport React from \"react\";\r\nimport { format } from \"date-fns\";\r\nimport { ExternalLink, CalendarPlus, Star, Clock, Info, ShieldAlert } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\nimport \"./ContestCard.css\";\r\n\r\nconst formatDateTimeForGoogleCalendar = (isoString) => {\r\n    if (!isoString) return '';\r\n    return new Date(isoString).toISOString().replace(/-|:|\\.\\d{3}/g, '');\r\n};\r\n\r\nconst ContestCard = ({ contest, onFavoriteToggle, isFavorite }) => {\r\n\r\n    let { title, platform, platformIcon, startTime, endTime, durationSeconds, url } = contest;\r\n\r\n    // Map platform to icon if not provided\r\n    if (!platformIcon) {\r\n        const platformIconMap = {\r\n            'AtCoder': '/icons/atcoder.svg',\r\n            'CodeChef': '/icons/codechef.svg',\r\n            // Add more mappings as needed\r\n        };\r\n        platformIcon = platformIconMap[platform] || null;\r\n    }\r\n\r\n    const handleAddToCalendar = () => {\r\n        const gCalStartTime = formatDateTimeForGoogleCalendar(startTime);\r\n        const gCalEndTime = formatDateTimeForGoogleCalendar(endTime);\r\n        const details = `Platform: ${platform}\\nLink: ${url}`;\r\n        const googleCalendarUrl = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(title)}&dates=${gCalStartTime}/${gCalEndTime}&details=${encodeURIComponent(details)}&location=${encodeURIComponent(platform)}`;\r\n        window.open(googleCalendarUrl, '_blank');\r\n    };\r\n\r\n    const formattedStartTime = startTime ? format(new Date(startTime), \"d MMM yyyy, h:mm a\") : \"N/A\";\r\n\r\n    let durationDisplay = \"N/A\";\r\n    if (durationSeconds) {\r\n        const h = Math.floor(durationSeconds / 3600);\r\n        const m = Math.floor((durationSeconds % 3600) / 60);\r\n        durationDisplay = `${h > 0 ? `${h}h ` : ''}${m > 0 ? `${m}m` : ''}`.trim();\r\n    }\r\n\r\n    const itemVariants = {\r\n        hidden: { y: 20, opacity: 0 },\r\n        visible: { y: 0, opacity: 1, transition: { type: \"spring\" } },\r\n    };\r\n\r\n    return (\r\n        <motion.div className=\"contest-card\" variants={itemVariants}>\r\n            <div className=\"platform-info\">\r\n                {platformIcon ? (\r\n                    <img src={platformIcon} alt={platform} className=\"platform-icon\" />\r\n                ) : (\r\n                    <ShieldAlert size={32} className=\"platform-icon-default\" />\r\n                )}\r\n                <span className=\"platform-name\">{platform || 'Unknown'}</span>\r\n            </div>\r\n\r\n            <div className=\"contest-details\">\r\n                <h3 className=\"contest-title\">{title}</h3>\r\n                <div className=\"contest-meta\">\r\n                    <span className=\"meta-item\">\r\n                        <CalendarPlus size={14} />\r\n                        {formattedStartTime}\r\n                    </span>\r\n                    <span className=\"meta-item\">\r\n                        <Clock size={14} />\r\n                        {durationDisplay}\r\n                    </span>\r\n                    <a href={url || '#'} target=\"_blank\" rel=\"noopener noreferrer\" className={`meta-item link ${!url ? 'disabled' : ''}`}>\r\n                        <Info size={14} />\r\n                        Contest Details\r\n                    </a>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"contest-actions\">\r\n                <button onClick={handleAddToCalendar} className=\"action-btn calendar-btn\" aria-label=\"Add to Google Calendar\">\r\n                    <CalendarPlus size={20} />\r\n                </button>\r\n                {onFavoriteToggle && (\r\n                    <button\r\n                        onClick={() => onFavoriteToggle(contest)}\r\n                        className={`action-btn favorite-btn ${isFavorite ? \"favorited\" : \"\"}`}\r\n                        aria-label={isFavorite ? \"Remove from favorites\" : \"Add to favorites\"}\r\n                    >\r\n                        <Star size={20} />\r\n                    </button>\r\n                )}\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nexport default ContestCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}